on:
  push:
    branches:
      - main
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
     - name: Checkout
       uses: actions/checkout@v2

     - uses: oven-sh/setup-bun@v1
       with:
          bun-version: latest

     - name: Install dependencies
       run: bun install

     - name: Run generator
       run: bun run generator.ts
       
     - name: Deploy to GitHub Pages
       uses: peaceiris/actions-gh-pages@v3
       with:
         github_token: ${{ secrets.GITHUB_TOKEN }}
         publish_dir: ./public
        

    #  - name: Create Release
    #    id: create_release
    #    uses: actions/create-release@v1
    #    with:
    #      tag_name: ${{ github.ref }}
    #      release_name: Release ${{ github.ref }}
    #      body: |
    #        Changes in this Release
    #        - Auto-generated by GitHub Actions
    #      draft: false
    #      prerelease: false
    
